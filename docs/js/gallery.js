"use strict";$(document).ready(function(){var n=!1,a=9,t="(max-width: 400px) 130px, 300px",e=$(".gallery-files li"),i=$(".gallery-files").attr("data-gallery-path"),o=[];$("[data-fancybox='gallery']").fancybox({idleTime:9999999});var c=[],l=[];function r(){function e(a,t,e){t.loaded=!0,0===e.filter(function(n){return!n.loaded}).length&&(n=!1,s())}n=!0;var c=o.filter(function(n){return!n.loaded}).slice(0,a);$.each(c,function(n,a){$(".image-gallery").append(function(n){var a;if(n.versions.length>0){var e="".concat(i,"/").concat(n.commonName,"-").concat(n.versions[0].size,".").concat(n.versions[0].ext),o=n.versions.map(function(a){return"".concat(i,"/").concat(n.commonName,"-").concat(a.size,".").concat(a.ext," ").concat(a.size)}).join(", "),c=n.class.join(" ");a='\n      <a class="gallery-thumbnail '.concat(c,'" data-fancybox="gallery" href="').concat(e,'" data-srcset="').concat(o,'" style="display: non;" data-thumbnail-id=').concat(n.index,'>\n      <img srcset="').concat(o,'" sizes="').concat(t,'" src="').concat(e,'">\n      </a>')}return a}(a));var o=$(".thumbnail-".concat(a.index)),l=o.find("img");l.on("load",function(n){e(0,a,c)}).on("error",function(n){e(0,a,c),$(o).addClass("failed")}),setTimeout(function(){a.loaded||e(0,a,c)},5e3),f(o)})}function s(){if(0!==o.filter(function(n){return!n.loaded}).length){var a=$(".load-more-images");if(a.offset())a.offset().top-$(window).outerHeight()>$(window).scrollTop()||n||r()}else $(".load-more-images").remove()}function f(n){if(n){var a;if($(".image-gallery").attr("data-thumbnail-dimensions")){var t=$(".image-gallery").attr("data-thumbnail-dimensions").split(":");a=t[1]/t[0]}else a=1;var e=$(n).css("width").replace("px","")*a;$(n).css("height",e)}}$.each(e,function(n,a){c.push($(a).text())}),c.forEach(function(n){var a=n.split("-").slice(0,-1).join("-");l.push(a)}),l.filter(function(n,a,t){return t.indexOf(n)===a}).forEach(function(n,a){var t=c.filter(function(a){return a.split("-").slice(0,-1).join("-")===n}).map(function(n){var a=n.split("-")[n.split("-").length-1];return{size:a.split(".")[0],ext:a.split(".")[1]}});o.push({type:"thumbnailUrl",commonName:n,versions:t,tags:null,index:a,class:["thumbnail-".concat(a)]})}),$(".image-gallery").after(' <div class="load-more-images">Loading more Images</div>'),r(),$("#wrapper").scroll(function(){s()}),$(window).resize(function(){var n=$("a.gallery-thumbnail");$.each(n,function(n,a){f(a)})})});